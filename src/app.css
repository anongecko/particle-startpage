@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

:root {
	/* Color System - Dynamic properties set by lib/color.ts */
	--color-dominant: #4a90e2;
	--color-vibrant: #5ba3f5;
	--color-muted: #7a9bc1;
	--color-light: #a8c8f0;
	--color-dark: #2c5aa0;
	--color-accent: #ff6b6b;
	--color-complementary: #e2994a;
	--color-triadic-1: #90e24a;
	--color-triadic-2: #e24a90;

	/* Alpha variants (auto-generated by lib/color.ts) */
	--color-dominant-10: rgba(74, 144, 226, 0.1);
	--color-dominant-20: rgba(74, 144, 226, 0.2);
	--color-dominant-30: rgba(74, 144, 226, 0.3);
	--color-dominant-50: rgba(74, 144, 226, 0.5);
	--color-dominant-70: rgba(74, 144, 226, 0.7);
	--color-dominant-90: rgba(74, 144, 226, 0.9);

	/* Modern CSS color features */
	--color-oklch-base: oklch(0.7 0.15 240);
	--color-oklch-light: oklch(0.85 0.1 240);
	--color-oklch-dark: oklch(0.4 0.2 240);
	--color-blend-bg: color-mix(in oklch, var(--color-dominant) 20%, transparent);
	--color-blend-text: color-mix(in oklch, var(--color-dominant) 80%, white);

	/* Neutral System - Always available fallbacks */
	--neutral-white: #ffffff;
	--neutral-gray-50: #f9fafb;
	--neutral-gray-100: #f3f4f6;
	--neutral-gray-200: #e5e7eb;
	--neutral-gray-300: #d1d5db;
	--neutral-gray-400: #9ca3af;
	--neutral-gray-500: #6b7280;
	--neutral-gray-600: #4b5563;
	--neutral-gray-700: #374151;
	--neutral-gray-800: #1f2937;
	--neutral-gray-900: #111827;
	--neutral-black: #000000;

	/* Typography Scale - Adjustable via settings */
	--font-size-base: 16px;
	--font-size-scale: 1.25;
	--font-size-xs: calc(var(--font-size-base) / var(--font-size-scale) / var(--font-size-scale));
	--font-size-sm: calc(var(--font-size-base) / var(--font-size-scale));
	--font-size-base: var(--font-size-base);
	--font-size-lg: calc(var(--font-size-base) * var(--font-size-scale));
	--font-size-xl: calc(var(--font-size-base) * var(--font-size-scale) * var(--font-size-scale));
	--font-size-2xl: calc(var(--font-size-base) * var(--font-size-scale) * var(--font-size-scale) * var(--font-size-scale));
	--font-size-3xl: calc(var(--font-size-base) * var(--font-size-scale) * var(--font-size-scale) * var(--font-size-scale) * var(--font-size-scale));

	/* Spacing System */
	--space-0: 0;
	--space-1: 0.25rem;
	--space-2: 0.5rem;
	--space-3: 0.75rem;
	--space-4: 1rem;
	--space-5: 1.25rem;
	--space-6: 1.5rem;
	--space-8: 2rem;
	--space-10: 2.5rem;
	--space-12: 3rem;
	--space-16: 4rem;
	--space-20: 5rem;
	--space-24: 6rem;
	--space-32: 8rem;

	/* Glassmorphism System */
	--blur-xs: blur(2px);
	--blur-sm: blur(4px);
	--blur-base: blur(8px);
	--blur-md: blur(12px);
	--blur-lg: blur(16px);
	--blur-xl: blur(24px);
	--blur-2xl: blur(40px);
	--blur-3xl: blur(64px);

	/* Glass Surface Variants */
	--glass-surface-1: rgba(255, 255, 255, 0.05);
	--glass-surface-2: rgba(255, 255, 255, 0.08);
	--glass-surface-3: rgba(255, 255, 255, 0.12);
	--glass-border-1: rgba(255, 255, 255, 0.1);
	--glass-border-2: rgba(255, 255, 255, 0.2);
	--glass-border-3: rgba(255, 255, 255, 0.3);

	/* Animation System - Optimized for 120fps */
	--duration-instant: 0ms;
	--duration-fast: 100ms;
	--duration-normal: 200ms;
	--duration-slow: 300ms;
	--duration-slower: 500ms;
	--duration-slowest: 700ms;

	--easing-linear: linear;
	--easing-ease: cubic-bezier(0.25, 0.1, 0.25, 1);
	--easing-ease-in: cubic-bezier(0.42, 0, 1, 1);
	--easing-ease-out: cubic-bezier(0, 0, 0.58, 1);
	--easing-ease-in-out: cubic-bezier(0.42, 0, 0.58, 1);
	--easing-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
	--easing-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);

	/* Shadows System */
	--shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.05);
	--shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
	--shadow-base: 0 4px 6px rgba(0, 0, 0, 0.07), 0 2px 4px rgba(0, 0, 0, 0.06);
	--shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1), 0 4px 6px rgba(0, 0, 0, 0.05);
	--shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.1), 0 10px 10px rgba(0, 0, 0, 0.04);
	--shadow-2xl: 0 25px 50px rgba(0, 0, 0, 0.25);
	--shadow-glow: 0 0 20px var(--color-dominant-30);
	--shadow-glow-strong: 0 0 40px var(--color-dominant-50);

	/* Border Radius System */
	--radius-none: 0;
	--radius-sm: 0.125rem;
	--radius-base: 0.25rem;
	--radius-md: 0.375rem;
	--radius-lg: 0.5rem;
	--radius-xl: 0.75rem;
	--radius-2xl: 1rem;
	--radius-3xl: 1.5rem;
	--radius-full: 9999px;

	/* Z-Index System */
	--z-behind: -1;
	--z-base: 0;
	--z-dropdown: 1000;
	--z-sticky: 1020;
	--z-overlay: 1030;
	--z-modal: 1040;
	--z-popover: 1050;
	--z-tooltip: 1060;
	--z-toast: 1070;
	--z-max: 2147483647;
}

/* Modern CSS Reset */
*,
*::before,
*::after {
	box-sizing: border-box;
	margin: 0;
	padding: 0;
}

html {
	line-height: 1.15;
	-webkit-text-size-adjust: 100%;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	text-rendering: optimizeLegibility;
	font-feature-settings: 'kern' 1;
	font-kerning: normal;
	font-variant-ligatures: common-ligatures;
}

body {
	margin: 0;
	font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
	font-size: var(--font-size-base);
	line-height: 1.6;
	color: var(--neutral-white);
	background: var(--neutral-black);
	overflow: hidden;
	user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	touch-action: manipulation;
	/* GPU acceleration for smooth scrolling */
	transform: translateZ(0);
	will-change: transform;
}

/* Typography */
h1, h2, h3, h4, h5, h6 {
	margin: 0;
	font-weight: 600;
	line-height: 1.25;
	letter-spacing: -0.025em;
	color: inherit;
}

h1 { font-size: var(--font-size-3xl); }
h2 { font-size: var(--font-size-2xl); }
h3 { font-size: var(--font-size-xl); }
h4 { font-size: var(--font-size-lg); }
h5 { font-size: var(--font-size-base); }
h6 { font-size: var(--font-size-sm); }

p {
	margin: 0;
	line-height: 1.6;
}

a {
	color: inherit;
	text-decoration: none;
	transition: color var(--duration-fast) var(--easing-ease);
}

a:hover {
	color: var(--color-vibrant);
}

/* Form Elements */
button,
input,
optgroup,
select,
textarea {
	font-family: inherit;
	font-size: 100%;
	line-height: 1.15;
	margin: 0;
	border: none;
	background: none;
	color: inherit;
}

button {
	cursor: pointer;
	user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
}

button:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 2px solid var(--color-vibrant);
	outline-offset: 2px;
}

/* Lists */
ul, ol {
	list-style: none;
	margin: 0;
	padding: 0;
}

/* Media */
img,
svg,
video,
canvas,
audio,
iframe,
embed,
object {
	display: block;
	max-width: 100%;
	height: auto;
}

/* Tables */
table {
	border-collapse: collapse;
	border-spacing: 0;
}

/* Interactive Elements */
[role='button'],
button,
input[type='submit'],
input[type='reset'],
input[type='button'] {
	-webkit-appearance: none;
	-moz-appearance: none;
	appearance: none;
}

/* Accessibility */
[aria-busy='true'] {
	cursor: progress;
}

[aria-controls] {
	cursor: pointer;
}

[aria-disabled='true'],
[disabled] {
	cursor: not-allowed;
	opacity: 0.5;
}

/* Focus Management */
:focus-visible {
	outline: 2px solid var(--color-vibrant);
	outline-offset: 2px;
}

:focus:not(:focus-visible) {
	outline: none;
}

/* Glassmorphism Base Classes */
.glass {
	background: var(--glass-surface-2);
	backdrop-filter: var(--blur-base);
	-webkit-backdrop-filter: var(--blur-base);
	border: 1px solid var(--glass-border-1);
	transition: all var(--duration-normal) var(--easing-ease);
}

.glass-light {
	background: var(--glass-surface-1);
	backdrop-filter: var(--blur-sm);
	-webkit-backdrop-filter: var(--blur-sm);
	border: 1px solid var(--glass-border-1);
}

.glass-heavy {
	background: var(--glass-surface-3);
	backdrop-filter: var(--blur-lg);
	-webkit-backdrop-filter: var(--blur-lg);
	border: 1px solid var(--glass-border-2);
}

.glass-ultra {
	background: rgba(255, 255, 255, 0.15);
	backdrop-filter: var(--blur-xl);
	-webkit-backdrop-filter: var(--blur-xl);
	border: 1px solid var(--glass-border-3);
}

/* Fallback for browsers without backdrop-filter */
@supports not (backdrop-filter: blur(1px)) {
	.glass,
	.glass-light,
	.glass-heavy,
	.glass-ultra {
		background: rgba(0, 0, 0, 0.8);
	}
}

/* Animation Utilities */
.animate-smooth {
	transition: all var(--duration-normal) var(--easing-ease);
	will-change: transform, opacity;
}

.animate-fast {
	transition: all var(--duration-fast) var(--easing-ease);
	will-change: transform, opacity;
}

.animate-slow {
	transition: all var(--duration-slow) var(--easing-ease);
	will-change: transform, opacity;
}

.animate-spring {
	transition: all var(--duration-normal) var(--easing-spring);
	will-change: transform, opacity;
}

/* GPU Acceleration Utilities */
.gpu {
	transform: translateZ(0);
	will-change: transform;
}

.gpu-auto {
	will-change: auto;
}

/* Color Transition Classes */
.color-transition {
	transition: 
		color var(--duration-slow) var(--easing-ease),
		background-color var(--duration-slow) var(--easing-ease),
		border-color var(--duration-slow) var(--easing-ease),
		box-shadow var(--duration-slow) var(--easing-ease);
}

/* Dynamic Text Colors */
.text-adaptive {
	color: color-mix(in srgb, var(--color-blend-text) 100%, transparent);
}

.text-primary {
	color: var(--neutral-white);
}

.text-secondary {
	color: var(--neutral-gray-300);
}

.text-tertiary {
	color: var(--neutral-gray-500);
}

.text-muted {
	color: var(--neutral-gray-600);
}

/* Layout Utilities */
.container {
	width: 100%;
	max-width: 1200px;
	margin: 0 auto;
	padding: 0 var(--space-4);
}

.flex {
	display: flex;
}

.flex-col {
	flex-direction: column;
}

.flex-center {
	display: flex;
	align-items: center;
	justify-content: center;
}

.flex-between {
	display: flex;
	align-items: center;
	justify-content: space-between;
}

.grid {
	display: grid;
}

.absolute {
	position: absolute;
}

.relative {
	position: relative;
}

.fixed {
	position: fixed;
}

/* Spacing Utilities */
.m-0 { margin: var(--space-0); }
.m-1 { margin: var(--space-1); }
.m-2 { margin: var(--space-2); }
.m-3 { margin: var(--space-3); }
.m-4 { margin: var(--space-4); }
.m-6 { margin: var(--space-6); }
.m-8 { margin: var(--space-8); }

.p-0 { padding: var(--space-0); }
.p-1 { padding: var(--space-1); }
.p-2 { padding: var(--space-2); }
.p-3 { padding: var(--space-3); }
.p-4 { padding: var(--space-4); }
.p-6 { padding: var(--space-6); }
.p-8 { padding: var(--space-8); }

/* Border Radius Utilities */
.rounded-none { border-radius: var(--radius-none); }
.rounded-sm { border-radius: var(--radius-sm); }
.rounded { border-radius: var(--radius-base); }
.rounded-md { border-radius: var(--radius-md); }
.rounded-lg { border-radius: var(--radius-lg); }
.rounded-xl { border-radius: var(--radius-xl); }
.rounded-2xl { border-radius: var(--radius-2xl); }
.rounded-full { border-radius: var(--radius-full); }

/* Shadow Utilities */
.shadow-none { box-shadow: none; }
.shadow-sm { box-shadow: var(--shadow-sm); }
.shadow { box-shadow: var(--shadow-base); }
.shadow-lg { box-shadow: var(--shadow-lg); }
.shadow-xl { box-shadow: var(--shadow-xl); }
.shadow-2xl { box-shadow: var(--shadow-2xl); }
.shadow-glow { box-shadow: var(--shadow-glow); }
.shadow-glow-strong { box-shadow: var(--shadow-glow-strong); }

/* Interactive States */
.hover-lift {
	transition: transform var(--duration-fast) var(--easing-ease);
}

.hover-lift:hover {
	transform: translateY(-2px);
}

.hover-scale {
	transition: transform var(--duration-fast) var(--easing-ease);
}

.hover-scale:hover {
	transform: scale(1.05);
}

.hover-glow {
	transition: box-shadow var(--duration-normal) var(--easing-ease);
}

.hover-glow:hover {
	box-shadow: var(--shadow-glow);
}

/* Performance Optimizations for 120fps */
@media (min-resolution: 2dppx) {
	body {
		/* Enhanced GPU acceleration for retina displays */
		transform: translate3d(0, 0, 0);
		backface-visibility: hidden;
		perspective: 1000px;
	}
}

/* High refresh rate optimizations */
@media (min-refresh-rate: 90hz) {
	* {
		/* Optimize animations for high refresh rate displays */
		animation-fill-mode: both;
	}
	
	.animate-smooth,
	.animate-fast,
	.animate-slow,
	.animate-spring {
		/* Smoother transitions on high refresh displays */
		transition-timing-function: cubic-bezier(0.23, 1, 0.32, 1);
	}
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
		scroll-behavior: auto !important;
	}
	
	.animate-smooth,
	.animate-fast,
	.animate-slow,
	.animate-spring {
		transition: none !important;
	}
}

/* Font Size Setting Support */
body[data-font-size="xs"] {
	--font-size-base: 14px;
}

body[data-font-size="sm"] {
	--font-size-base: 15px;
}

body[data-font-size="base"] {
	--font-size-base: 16px;
}

body[data-font-size="lg"] {
	--font-size-base: 18px;
}

body[data-font-size="xl"] {
	--font-size-base: 20px;
}

body[data-font-size="2xl"] {
	--font-size-base: 24px;
}

/* Responsive Typography */
@media (max-width: 768px) {
	:root {
		--font-size-base: 14px;
		--space-4: 0.75rem;
		--space-6: 1rem;
		--space-8: 1.5rem;
	}
}

@media (max-width: 480px) {
	:root {
		--font-size-base: 13px;
		--space-4: 0.5rem;
		--space-6: 0.75rem;
		--space-8: 1rem;
	}
}
